{"version":3,"sources":["app/scripts/init.coffee","app/scripts/controllers/main.coffee","app/scripts/main.coffee","app/scripts/routes.coffee"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;CCDA;AACA","file":"../public/js/app.js","sourcesContent":["var addSubscriber, get_age, orientationEvent, pageView, resize, supportsOrientationChange, validateEmail;\n\njQuery(function() {\n  $('body').prepend('<div id=\"fb-root\"></div>');\n  return $.ajax({\n    url: \"\" + window.location.protocol + \"//connect.facebook.net/en_US/all.js\",\n    dataType: 'script',\n    cache: true\n  });\n});\n\nget_age = function(born, now) {\n  var birthday;\n  birthday = new Date(now.getFullYear(), born.getMonth(), born.getDate());\n  if (now >= birthday) {\n    return now.getFullYear() - born.getFullYear();\n  } else {\n    return now.getFullYear() - born.getFullYear() - 1;\n  }\n};\n\n$(\"#button\").click(function() {});\n\naddSubscriber = function(correo) {};\n\nwindow.fbAsyncInit = function() {\n  FB.init({\n    appId: '303987353132508',\n    cookie: true\n  });\n  addSubscriber = function() {\n    return FB.getLoginStatus(function(response) {\n      console.log(response.status);\n      if (response.status === 'connected') {\n        FB.api(\"/me\", function(response) {\n          var age, birthdate, born, city, country, dob, email, fulllocation, fullname, gender, location, now, state, url;\n          console.log(JSON.stringify(response));\n          dob = response.birthday;\n          now = new Date();\n          fulllocation = response.location.name;\n          location = fulllocation.split(\", \");\n          birthdate = dob.split(\"/\");\n          born = new Date(birthdate[2], birthdate[1] - 1, birthdate[0]);\n          age = get_age(born, now);\n          console.log(birthdate[2] + \" : \" + birthdate[1] + \" : \" + birthdate[0]);\n          email = response.email;\n          fullname = response.name;\n          city = location[0];\n          state = location[1];\n          country = location[2];\n          gender = response.gender;\n          console.log('nombre: ' + fullname);\n          console.log('edad: ' + age);\n          console.log('email: ' + email);\n          console.log('ciudad: ' + city);\n          console.log('estado: ' + state);\n          console.log('pais: ' + country);\n          return url = \"http://api.mynewsletterbuilder.com/1.0.2/Subscribe/json/?api_key=aaddbdd8202a5128b7f806aaf9047215&lists=436693&details[custom_2]=\" + gender + \"&details[custom_1]=\" + age + \"&details[full_name]=\" + fullname + \"&details[email]=\" + email + \"&details[city]=\" + city + \"&details[state]=\" + state + \"&details[country]=\" + country;\n        });\n        return console.log('conectado');\n      } else if (response.status === 'not_authorized') {\n        console.log('not_authorized');\n        return FB.api(\"/me\", function(response) {\n          var age, birthdate, born, city, country, dob, email, fulllocation, fullname, gender, location, now, state, url;\n          console.log(JSON.stringify(response));\n          dob = response.birthday;\n          now = new Date();\n          fulllocation = response.location.name;\n          location = fulllocation.split(\", \");\n          birthdate = dob.split(\"/\");\n          born = new Date(birthdate[2], birthdate[1] - 1, birthdate[0]);\n          age = get_age(born, now);\n          console.log(birthdate[2] + \" : \" + birthdate[1] + \" : \" + birthdate[0]);\n          email = response.email;\n          fullname = response.name;\n          city = location[0];\n          state = location[1];\n          country = location[2];\n          gender = response.gender;\n          console.log('nombre: ' + fullname);\n          console.log('edad: ' + age);\n          console.log('ciudad: ' + city);\n          console.log('estado: ' + state);\n          console.log('pais: ' + country);\n          return url = \"http://api.mynewsletterbuilder.com/1.0.2/Subscribe/json/?api_key=aaddbdd8202a5128b7f806aaf9047215&lists=436693&details[custom_2]=\" + gender + \"&details[custom_1]=\" + age + \"&details[full_name]=\" + fullname + \"&details[email]=\" + email + \"&details[city]=\" + city + \"&details[state]=\" + state + \"&details[country]=\" + country;\n        });\n      } else {\n        FB.login(function(response) {\n          console.log('login fb');\n          return console.log('login response: ' + response);\n        });\n        return console.log('The person is not logged into Facebook');\n      }\n    });\n  };\n  $('#sign_in').click(function(e) {\n    e.preventDefault();\n    return FB.login(function(response) {\n      if (response.authResponse) {\n        return window.location = '/auth/facebook';\n      }\n    });\n  });\n  return $('.showSubscribe').on('click', function(e) {\n    e.preventDefault();\n    return addSubscriber();\n  });\n};\n\nvalidateEmail = function($email) {\n  var emailReg;\n  emailReg = /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/;\n  if (!emailReg.test($email)) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\npageView = function(page) {\n  return ga(\"send\", \"pageview\", \"/\" + page);\n};\n\nsupportsOrientationChange = \"onorientationchange\" in window;\n\norientationEvent = (supportsOrientationChange ? \"orientationchange\" : \"resize\");\n\nwindow.addEventListener(orientationEvent, (function() {\n  if (window.orientation === 0) {\n    $('#rotardispisitivo').css({\n      display: 'none'\n    });\n  } else if (window.orientation === 90) {\n    $('#rotardispisitivo').css({\n      display: 'block'\n    });\n  }\n}), false);\n\nresize = function() {\n  var aspect, ratio, vidH, wH, wW;\n  ratio = void 0;\n  wH = void 0;\n  wW = void 0;\n  aspect = 1.33;\n  wH = $(window).height();\n  wW = $(window).width();\n  ratio = wW / wH;\n  if (wW > wH) {\n    if (ratio > aspect) {\n      $(\".splashbg\").width(wW);\n      $(\".splashbg\").height(\"auto\");\n      vidH = $(\".splashbg\").height();\n      return $(\".splashbg\").css({\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginLeft: (wW / 2) * -1 + \"px\",\n        marginTop: ((vidH - wH) / 2) + (wH / 2) * -1 + \"px\"\n      });\n    } else {\n      $(\".splashbg\").width(wH * aspect);\n      $(\".splashbg\").height(wH);\n      return $(\".splashbg\").css({\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginLeft: ((wH * aspect) / 2) * -1 + \"px\",\n        marginTop: (wH / 2) * -1 + \"px\"\n      });\n    }\n  } else {\n    $(\".splashbg\").height(wH);\n    $(\".splashbg\").width(wH * aspect);\n    return $(\".splashbg\").css({\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      marginLeft: ((wH * aspect) / 2) * -1 + \"px\",\n      marginTop: (wH / 2) * -1 + \"px\"\n    });\n  }\n};\n\n$(function() {\n  var error, sendNewsletter, wH, wW;\n  $(document.body).on(\"appear\", \".shown\", function(e, $affected) {\n    $(this).addClass(\"appeared\");\n  });\n  $(\".shown\").appear({\n    force_process: true\n  });\n  $('#footer .created').on('click', function() {\n    return $('#created').addClass('show');\n  });\n  $('#created .close').on('click', function() {\n    return $('#created').removeClass('show');\n  });\n  sendNewsletter = function() {\n    return $('.newsbtn p').html('Thanks');\n  };\n  error = function(response, status, xhr) {\n    alert(\"error\");\n  };\n  wH = $(window).height();\n  wW = $(window).width();\n  $('.splash').height(wH);\n  if (navigator.userAgent.match(/iPad/i)) {\n    $(\"#viewport\").attr(\"content\", \"width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0\");\n    if (window.orientation === 0) {\n      return $('#rotardispisitivo').css({\n        display: 'none'\n      });\n    } else if (window.orientation === 90) {\n      return $('#rotardispisitivo').css({\n        display: 'none'\n      });\n    }\n  }\n});\n","var MainController;\n\nMainController = [\n  '$scope', function($scope) {\n    return $scope.msg = \"Hello World\";\n  }\n];\n","\n","\n"]}